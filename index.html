 <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Immerse yourself in harmony and tranquility with our simple web app. Listen to relaxing music, jazz, lo-fi, and much more. Perfect for work, study, or meditation. Find your rhythm and create your own atmosphere for rest and focus, wherever you are." />
    <meta name="keywords" content="Relaxing music, Vibe, Lo-fi, Jazz, Ambient, Chill, Sleepy, Meditation, Rest, Work, Study, Background music, Stress relief, Online radio, Calmness, Chillout, Sound therapy, Mindfulness, Harmony, Mood, Tranquility, Music for concentration, Расслабляющая музыка, Ло-фай, Джаз, Медитация, Отдых, Работа, Учёба, Фоновая музыка, Снятие стресса, Интернет-радио, Спокойствие, Чилаут, Звуковая терапия, Осознанность, Гармония, Настроение, Спокойствие, Музыка для концентрации, lo-vibe.web.app, vibe radio, vibe music" />
    <meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/lo-vibe.appspot.com/o/art-new.png?alt=media&token=09b13931-518f-4562-bf2c-9ce053a838c8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="VL Software" />
    <meta name="version" content="3.2" />
    <title>Vibe | Ambient Radio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="shortcut icon" href="art/ic.ico" type="image/png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" sizes="512x512" href="art/ic/icon-1.png">
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const favicons = [
          'art/ic/icon-1.png',
          'art/ic/icon-2.png',
          'art/ic/icon-3.png',
          'art/ic/icon-4.png',
        ];
        
        // Pick a random favicon from the array
        const randomFavicon = favicons[Math.floor(Math.random() * favicons.length)];
        
        // Set the random favicon
        let link = document.querySelector("link[rel~='icon']");
        if (!link) {
          link = document.createElement('link');
          link.rel = 'icon';
          document.getElementsByTagName('head')[0].appendChild(link);
        }
        link.href = randomFavicon;
        
        // Register service worker
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/js/service-worker.js')
          .then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
          }, function(err) {
            console.error('ServiceWorker registration failed: ', err);
          });
        }
      });
    </script>
  </head>
  
<body>
  <div id="intro-screen">
    <h1>VIBE</h1>
  </div>
  <div id="particles-js"></div>
  <canvas id="canvas"></canvas>
  
  <!-- Radio -->
  <audio id="lofi-radio" src="https://lofi.stream.laut.fm/lofi?ref=radiode&t302=2022-04-06_17-32-36&uuid=47bbcee5-a0bc-47c2-8475-72e9f74b865c"></audio> 
  <!-- Timer Panel -->
  <div class="clock" id="clock">
    <div id="current-time" class="time"></div>
    <div class="separator"></div>
    <div id="current-date" class="date"></div>
  </div>
  
  <div class="player-container" id="player-container">
    <div class="hover-area" id="hover-area">
      
      <!-- Settings Panel -->
      <div id="settings-panel" class="panel">
        <div class="panel-title" id="special-panel-title">Settings</div>
        <div id="line-2"></div>
        <div class="scroll-view">
          <div class="section-title"><b>Background</b></div>
          <div class="mini-panel">
            <span>R</span>
            <input id="red" type="range" min="0" max="255" value="128">
            <span>G</span>
            <input id="green" type="range" min="0" max="255" value="128">
            <span>B</span>
            <input id="blue" type="range" min="0" max="255" value="128">
            
            <span class="span" style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;</span>
            
            <div class="check-container">
              <label class="switch">
                <input id="colorCycle" type="checkbox">
                <span class="check-slider"></span>
              </label>
              <span>Color Cycle</span>
            </div>
            
            <span class="span" style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;</span>
            <label>
              <input id="speed" type="range" min="0.1" max="10" value="0.1" step="0.1"> Speed
            </label>            
            <span class="span" style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;</span>            
            <button class="button" id="randomize">Randomize</button>
          </div>
          <div class="section-title"><b>Controls</b></div>
          <div class="mini-panel">
            <button class="button" id="panelHideToggle">Panel-hide: OFF</button>
            <button class="button" id="toggleButton" onclick="toggleClockMode()">Toggle Clock</button>
            <button class="button" id="toggle-search">YouTube: Hidden</button>
          </div>
          
          <div class="mini-panel">
            <button class="button" id="fullscreenButton">Fullscreen</button>
            <button class="button" onclick="redirectToIndexLite()">Lite Version</button>
            <button class="button" id="snow-toggle">Snow ❄️</button>
            <script>
              function redirectToIndexLite() {
                window.location.href = 'index-lite.html';
              }
            </script>
          </div>
        </div>
      </div>

      <!-- Volume Panel -->
      <div id="volume-panel" class="panel">
        <div class="panel-title">Music</div>
        <div id="line-2"></div>
        <div class="scroll-view">
          <div class="section-title"><b>Volume</b></div>
          <div class="mini-panel">
            <div class="panel-content">
              <input id="volume-slider" class="slider-vol" type="range" min="0" max="100" value="100">
            </div>
            <div class="radio-controls">
              <button class="button" id="prev-radio">&larr;</button>
              <div id="radio-display" class="radio-display">RELAX 1</div>
              <button class="button" id="next-radio">&rarr;</button>
            </div>
          </div>
          
          <div class="mini-panel" id="youtube-controls">
            <div class="input-container">
              <input type="text" id="youtube-input" class="translucent-input" placeholder="YouTube URL..." />
              <button class="refresh-button" id="refresh-button"><i class="fas fa-refresh"></i></button>
            </div>
            <button class="translucent-button" id="youtube-submit">Play YouTube Audio</button>
            <button class="translucent-button" id="youtube-shuffle">Non-stop Shuffle: OFF</button>
            <div id="youtube-player"></div>
          </div>
        </div>
      </div>
    
      <!-- Mixer Panel -->
      <div id="mixer-panel" class="panel">
        <div class="panel-title">Ambient Mixer</div>
        <div id="line"></div>
        <button class="button" id="mute-all-button">Mute All</button>
        <div class="panel-content scroll-view" id="amb-scroll-view">
          <div class="mini-panel" id="preset-panel">
            <div id="preset-scroll-view" class="preset-scroll-view">
              <button class="button" id="export-button">Export Presets</button>
              <button class="button" id="import-button">Import Presets</button>
              <button class="preset-button" id="add-preset-button">+</button>
            </div>
          </div>
          <div class="sound-button" data-sound-id="1">
            <i class="fas fa-tree"></i> Forest 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/forest.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="2">
            <i class="fas fa-star"></i> Night 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/night.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="3">
            <i class="fas fa-fire"></i> Fire 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/fire.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="4">
            <i class="fas fa-snowflake"></i> Snow 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/snow.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="5">
            <i class="fas fa-water"></i> Rain 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/rain.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="6">
            <i class="fas fa-water"></i> Seaside 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/seaside.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="7">
            <i class="fas fa-shower"></i> Water 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/water.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="8">
            <i class="fas fa-cloud"></i> Thunder 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/thunder.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="9">
            <i class="fas fa-cloud"></i> Wind 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/wind.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="10">
            <i class="fas fa-car"></i> Car 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/car.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="11">
            <i class="fas fa-train"></i> Train 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/train.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="12">
            <i class="fas fa-plane"></i> Airplane 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/airplane.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="13">
            <i class="fas fa-ship"></i> Ship 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/creaking_ship.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="14">
            <i class="fas fa-anchor"></i> Submarine 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/ocean.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="15">
            <i class="fas fa-users"></i> Office 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/office.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="16">
            <i class="fas fa-coffee"></i> Cafeteria 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/coffee_shop.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="17">
            <i class="fas fa-commenting"></i> Chat 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/conversation.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="18">
            <i class="fas fa-paw"></i> Wolf 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/wolf.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="19">
            <i class="fas fa-paw"></i> Cat 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/cat.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="29">
            <i class="fas fa-paw"></i> Birds 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/birds.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="20">
            <i class="fas fa-paw"></i> Crickets 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/crickets.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="21">
            <i class="fas fa-paw"></i> Seagulls 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/seagulls.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="22">
            <i class="fas fa-paw"></i> Owl 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/owl.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="28">
            <i class="fas fa-leaf"></i> Leaves 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/leaves.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="23">
            <i class="fas fa-bell"></i> Chimes 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/chimes.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="24">
            <i class="fas fa-heartbeat"></i> Heartbeat 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/heartbeat.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="25">
            <i class="fas fa-bullseye"></i> Vinyl 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/vinyl.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="26">
            <i class="fas fa-lightbulb"></i> Lamp 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/lamp.mp3" loop></audio>
          </div>
          <div class="sound-button" data-sound-id="27">
            <i class="fas fa-clock"></i> Clock 
            <input class="slider" id="amb-slider" type="range" min="0" max="100" value="0">
            <audio src="sounds/clock.mp3" loop></audio>
          </div>
        </div>
      </div>
      
      <!-- Timer Panel -->
      <div id="timer-panel" class="panel">
        <div class="panel-title">Sleep Timer</div>
        <div id="line-2"></div>
        <p id="timer-display" class="timer-display">0:00</p>
        <div class="scroll-view">
          <div class="panel-content">
            <button class="button" id="timer-toggle-button">ON</button>
            <div class="timer-controls scroll-view">
              <div class="button-group">                      
                <button class="button" onclick="subtractTime(5)">-</button>
                <span class="timer-span">5 min</span>
                <button class="button" onclick="addTime(5)">+</button>
              </div>
              <div class="button-group">
                <button class="button" onclick="subtractTime(15)">-</button>
                <span class="timer-span">15 min</span>
                <button class="button" onclick="addTime(15)">+</button>
              </div>
              <div class="button-group">
                <button class="button" onclick="subtractTime(30)">-</button>
                <span class="timer-span">30 min</span>
                <button class="button" onclick="addTime(30)">+</button>
              </div>
              <div class="button-group">
                <button class="button" onclick="subtractTime(60)">-</button>
                <span class="timer-span">1 hour</span>
                <button class="button" onclick="addTime(60)">+</button>
              </div>
              <div class="button-group">
                <button class="button" onclick="subtractTime(120)">-</button>
                <span class="timer-span">2 hours</span>
                <button class="button" onclick="addTime(120)">+</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Control Buttons -->
      <div class="controls">
        <a id="play-button" class="button" aria-label="Play">
          <i id="play-icon" class="fas fa-play"></i>
        </a>
        <a id="volume-button" class="button" aria-label="Volume">
          <i id="volume-icon" class="fas fa-volume-up"></i>
        </a>
        <a id="mixer-button" class="button" aria-label="Mixer">
          <i id="mixer-icon" class="fas fa-sliders-h"></i>
        </a>
        <a id="timer-button" class="button" aria-label="Timer">
          <i id="timer-icon" class="fas fa-clock"></i>
        </a>
        <a id="settings-button" class="button" aria-label="Lava Lamp">
          <i class="fas fa-cog"></i>
        </a>          
      </div>
    </div> 
  </div>
  <script>    
    // canvas
    const canvas = document.getElementById('canvas');
    const gl = canvas.getContext('webgl');
    const redSlider = document.getElementById('red');
    const greenSlider = document.getElementById('green');
    const blueSlider = document.getElementById('blue');
    const randomizeButton = document.getElementById('randomize');
    const colorCycleCheckbox = document.getElementById('colorCycle');
    const speedSlider = document.getElementById('speed');
    
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      gl.viewport(0, 0, canvas.width, canvas.height);
    }
    
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    
    const vertShaderSrc = `
// Vertex shader code remains the same
    attribute vec2 position;
    varying vec2 vUv;

    void main() {
        gl_Position = vec4(position, 0.0, 1.0);
        vUv = position * 0.5 + 0.5;
    }
`;
    
    const fragShaderSrc = `
// Fragment shader code remains the same
    precision mediump float;
    uniform vec2 resolution;
    uniform float time;
    uniform vec3 color;
    varying vec2 vUv;

    float map(vec3 pos) {
        float ret = 0.0;
        ret += length(pos + vec3(
            (sin(time * 0.5 + pos.y * 6.0) - cos(pos.z * 1.823)) * 0.1,
            (cos(time * 0.5 + pos.x * 7.3) - cos(pos.x * 0.956)) * 0.1,
            cos(time * 0.1 - pos.y * 8.0 + pos.x * 4.4) * 0.05));
        return ret;
    }

    void main() {
        vec2 uv = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;
        uv.x *= resolution.x / resolution.y;
        vec3 off = vec3(1.0 / resolution.xy, 0.0);
        vec3 col = vec3(0.0);

        for (int j = 0; j < 10; j++) {
            float js = pow(float(j) * 0.075, 2.5);
            vec3 pos = vec3(uv.x, uv.y, js - 0.75);

            float v = smoothstep(0.5 + js * 0.75, 0.5, map(pos)) 
                    * smoothstep(0.5, 0.6 + js * 0.3, map(pos + vec3(0.1, 0.2, 0.0)));
            
            float w = smoothstep(0.9 + js * 0.75, 0.8, map(pos)) 
                    * smoothstep(0.6, 1.5 + js * 0.25, map(pos - vec3(0.2, 0.1, 0.1)));
            
            col += v * vec3(0.5 + js, 0.5 - js, 1.0) * color;
            col += w * vec3(0.5 + js, 0.5 - js, 1.0) * color;
            col -= dot(pos - 15.5, off);
        }
        
        col /= 10.0;
        col = pow(col, vec3(1.0 / 2.2));
        
        gl_FragColor = vec4(smoothstep(0.3, 0.75, col), 1.0);
    }
`;
    
    function createShader(gl, type, source) {
      const shader = gl.createShader(type);
      gl.shaderSource(shader, source);
      gl.compileShader(shader);
      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error('Error compiling shader:', gl.getShaderInfoLog(shader));
        return null;
      }return shader;
    }
    
    const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertShaderSrc);
    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragShaderSrc);
    
    const program = gl.createProgram();
    gl.attachShader(program, vertexShader);
    gl.attachShader(program, fragmentShader);
    gl.linkProgram(program);
    
    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
      console.error('Error linking program:', gl.getProgramInfoLog(program));
    }
    
    const positionLocation = gl.getAttribLocation(program, 'position');
    const resolutionLocation = gl.getUniformLocation(program, 'resolution');
    const timeLocation = gl.getUniformLocation(program, 'time');
    const colorLocation = gl.getUniformLocation(program, 'color');
    
    const positionBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
    const positions = new Float32Array([
      -1.0, -1.0,
      1.0, -1.0,
      -1.0,  1.0,
      -1.0,  1.0,
      1.0, -1.0,
      1.0,  1.0,
    ]);
    gl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);
    
    function loadColorFromStorage() {
      const r = localStorage.getItem('colorR') || 255;
      const g = localStorage.getItem('colorG') || 0;
      const b = localStorage.getItem('colorB') || 128;
      redSlider.value = r;
      greenSlider.value = g;
      blueSlider.value = b;
    }
    
    function saveColorToStorage() {
      localStorage.setItem('colorR', redSlider.value);
      localStorage.setItem('colorG', greenSlider.value);
      localStorage.setItem('colorB', blueSlider.value);
    }
    
    function getColor() {
      return [
        redSlider.value / 255,
        greenSlider.value / 255,
        blueSlider.value / 255
      ];
    }
    
    function getRandomColor() {
      return [
        Math.random(),
        Math.random(),
        Math.random()
      ];
    }
    
    function randomizeSliders() {
      redSlider.value = Math.floor(Math.random() * 256);
      greenSlider.value = Math.floor(Math.random() * 256);
      blueSlider.value = Math.floor(Math.random() * 256);
      saveColorToStorage();
    }
    
    redSlider.addEventListener('input', saveColorToStorage);
    greenSlider.addEventListener('input', saveColorToStorage);
    blueSlider.addEventListener('input', saveColorToStorage);
    
    randomizeButton.addEventListener('click', randomizeSliders);
    
    loadColorFromStorage();
    
    let colorCycleEnabled = false;
    let colorCycleStart = performance.now();
    
    colorCycleCheckbox.addEventListener('change', (event) => {
      colorCycleEnabled = event.target.checked;
      
      redSlider.disabled = colorCycleEnabled;
      greenSlider.disabled = colorCycleEnabled;
      blueSlider.disabled = colorCycleEnabled;
      randomizeButton.disabled = colorCycleEnabled;
      
      if (colorCycleEnabled) {
        colorCycleStart = performance.now();
      } else {
        loadColorFromStorage();
      }
    });
    
    function updateColorCycle(currentTime) {
      const speed = parseFloat(speedSlider.value);
      const elapsed = (currentTime - colorCycleStart) * speed * 0.001; // Convert milliseconds to seconds
      
      const r = Math.abs(Math.sin(elapsed)) * 255;
      const g = Math.abs(Math.sin(elapsed + Math.PI / 3)) * 255;
      const b = Math.abs(Math.sin(elapsed + 2 * Math.PI / 3)) * 255;
      
      return [r / 255, g / 255, b / 255];
    }
    
    function render(currentTime) {
      const timeInSeconds = currentTime * 0.001;
      
      // Очищаем холст черным цветом
      gl.clearColor(0.0, 0.0, 0.0, 1.0);
      gl.clear(gl.COLOR_BUFFER_BIT);
      
      gl.useProgram(program);
      
      gl.uniform2f(resolutionLocation, canvas.width, canvas.height);
      gl.uniform1f(timeLocation, timeInSeconds);
      
      if (colorCycleEnabled) {
        gl.uniform3fv(colorLocation, updateColorCycle(currentTime));
      } else {
        gl.uniform3fv(colorLocation, getColor());
      }
      
      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
      gl.enableVertexAttribArray(positionLocation);
      gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);
      gl.drawArrays(gl.TRIANGLES, 0, positions.length / 2);
      
      requestAnimationFrame(render);
    }
    
    requestAnimationFrame(render);
  </script>
  <script>
    let clockMode = localStorage.getItem('clockMode') || '1';
    let timeoutId;
    
    document.addEventListener('DOMContentLoaded', () => {
      const clock = document.getElementById('clock');
      const toggleButton = document.getElementById('toggleButton');
      
      updateClock();
      setInterval(updateClock, 60000); // обновляем каждую минуту
      
      setTimeout(() => {
        document.addEventListener('mousemove', handleMouseMove);
        
        if (clockMode === '3') {
          clock.classList.add('show');
        }
      }, 3000); // Задержка 3 секунды при загрузке страницы
      
      updateButtonLabel();
    });
    
    function updateClock() {
      let now = new Date();
      let timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      let dateString = now.toLocaleDateString();
      document.getElementById('current-time').textContent = timeString;
      document.getElementById('current-date').textContent = dateString;
    }
    
    function handleMouseMove(e) {
      const clock = document.getElementById('clock');
      if (e.clientY < 50 && clockMode === '2') {
        clearTimeout(timeoutId);
        clock.classList.add('show');
        timeoutId = setTimeout(() => {
          clock.classList.remove('show');
        }, 3000); // 3 секунды задержка
      }
    }
    
    function toggleClockMode() {
      const clock = document.getElementById('clock');
      clock.classList.remove('show');
      
      clockMode = ((parseInt(clockMode) % 3) + 1).toString();
      localStorage.setItem('clockMode', clockMode);
      updateButtonLabel();
      
      if (clockMode === '3') {
        clock.classList.add('show');
      }}
    
    function updateButtonLabel() {
      const toggleButton = document.getElementById('toggleButton');
      switch (clockMode) {
        case '1':
          toggleButton.textContent = 'Clock Mode: Hidden';
          break;
        case '2':
          toggleButton.textContent = 'Clock Mode: Auto';
          break;
        case '3':
          toggleButton.textContent = 'Clock Mode: Visible';
          break;
      }
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      const specialPanelTitle = document.getElementById('special-panel-title');
      const version = document.querySelector('meta[name="version"]').content;
      const originalText = specialPanelTitle.textContent;
      let clickCount = 0;
      let vibrationCount = 0;
      
      specialPanelTitle.addEventListener('mouseenter', () => {
        specialPanelTitle.textContent = `Version: ${version}`;
      });
      
      specialPanelTitle.addEventListener('mouseleave', () => {
        specialPanelTitle.textContent = originalText;
      });
      
      specialPanelTitle.addEventListener('click', () => {
        clickCount++;
        vibrationCount++;
        
        if (vibrationCount === 3) {
          if (navigator.vibrate) {
            navigator.vibrate(200); // Вибрация на 200 мс
          }
          vibrationCount = 0; // Сброс счетчика вибрации после 3-х нажатий
        }
        
        if (clickCount === 100) {
          window.open('https://lo-vibe.web.app/art/bg.html', '_blank');
          clickCount = 0; // Сброс счетчика после открытия URL
        }
      });
    });
  </script>
  <script>
    // Функция для определения, является ли устройство iOS
    function isIOS() {
      // Используем userAgent, чтобы определить платформу
      const userAgent = window.navigator.userAgent;
      const iOSPattern = /iPad|iPhone|iPod/;
      
      return iOSPattern.test(userAgent);
    }
    
    // Функция для отображения диалогового окна, если устройство - iOS
    function displayDialogIfIOS() {
      if (isIOS()) {
        alert("Данная версия сайта не адаптирована под iOS. Веб-приложение может работать некорректно.");
      }
    }
    
    // Вызываем функцию после загрузки страницы
    window.onload = displayDialogIfIOS;
  </script>
  <script src="js/script.js"></script>
  <script src="js/fullscreen.js"></script>
  <script src="js/show-container.js"></script>
  <script src="js/loader.js"></script>
  <script src="js/snow.js"></script>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>